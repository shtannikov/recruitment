# Ранбук деплоя

### Сборка новой версии приложения
1. Открыть терминал в папке проекта (на уровне .sln файла)
2. Выполнить команду `dotnet publish --configuration Release`

### Выкладка новой версии приложения
1. Переключить терминал на дерикторию с релизом `recruitment/bin/Release/net7.0`
2. Перелить релиз на виртуалку `scp -r publish shtannikov@158.160.63.240:apps` (apps - это моя директория, где я храню релизы)

### Выключение старой версии приложения
1. Подключиться к виртуалке `ssh shtannikov@158.160.63.240`
2. Выполнить команду `sudo lsof -i :5000`
3. Взять из результата PID и подставить его в команду `sudo kill {PID}`

### <s>Включение новой версии приложения</s> 
<b>Неактуально. Теперь это делает демон, который следит за статусом приложения</b>
1. Подключиться к виртуалке `ssh shtannikov@158.160.63.240`
2. Переключить терминал на дерикторию с релизом `cd apps/publish`
3. Выполнить команду `dotnet recruitment.dll` 